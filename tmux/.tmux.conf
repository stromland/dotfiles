# Tmux settings

set -g set-clipboard on
set -g renumber-windows on
setw -g allow-rename off

# Key Bindings

# Prefix
set -g prefix C-k
unbind-key C-b
bind-key C-k send-prefix

# Reload Configuration
bind r source-file ~/.tmux.conf

# Copy mode
unbind [
bind C-k copy-mode
setw -g mode-keys vi

bind-key -T copy-mode-vi v send-keys -X begin-selection

# Window Selection
unbind n
unbind p
bind -r C-h previous-window
bind -r C-l next-window

# Pane Selection
unbind Left
unbind Right
unbind Up
unbind Down
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

bind p display-panes
bind % split-pane -h -c '#{pane_current_path}'
bind '"' split-pane -v -c '#{pane_current_path}'

# Resize Panes
bind H resize-pane -L 5
bind J resize-pane -D 5
bind K resize-pane -U 5
bind L resize-pane -R 5

# Kill
bind C-q kill-window
#bind C-Q kill-session

# Popup - Lazygit
bind G display-popup -d '#{pane_current_path}' -w 80% -h 80% -EE lazygit

# Popup - Ranger
bind F display-popup -d '#{pane_current_path}' -w 80% -h 80% -EE ranger

# Popup - Htop
bind S display-popup -d '#{pane_current_path}' -w 80% -h 80% -EE htop

# Appearance

# Window
set -g window-active-style bg=terminal
set -g window-style bg=default

# Status bar
set -g status-position bottom
set -g status-interval 5

set -g status-style bg=default,fg=white

set -g status 2
set -g status-left ''
set -g status-right ''
set -g status-format[1] '#[align=left]#[bg=cyan,fg=black]#(~/bin/tmux-left-status.sh)'
set -ag status-format[1] '#[align=right]#[bg=cyan,fg=black] %d/%m | %H:%M:%S '
set -g status-justify absolute-centre

set -g window-status-format '#[bg=brightblack,fg=black] #I #[bg=default,fg=brightblack] #W#{?window_zoomed_flag,#[fg=brightblack]+Z,}#{?selection_present,#[fg=brightblack]+C,} '
set -g window-status-current-format '#[bg=green,fg=black] #I #[bg=default,fg=green] #W#{?window_zoomed_flag,#[fg=red]+Z,} '

# Pane
set -g pane-border-status top
set -g pane-border-lines single
set -g pane-border-format '   #{?pane_active,#[bg=yellow#,fg=black],#[bg=brightblack#,fg=black]}  #P  #{?pane_active,#[bg=default#,fg=yellow],#[bg=default#,fg=brightblack]} (#{pane_current_command}) #{pane_current_path} #{?pane_in_mode,#{?pane_active,#[fg=green][#{pane_mode}],#[fg=brigthblack][#{pane_mode}]},} '
set -g pane-active-border-style bg=default,fg=yellow
set -g pane-border-style bg=default

# Tmux Command Text
set -g message-style bg=default,fg=default

